(function(){"use strict";var e={8955:function(e,t,n){var i=n(9242),l=n(3396);const a={class:"container my-5"},s={class:"d-flex align-items-start"},o=(0,l._)("div",{class:"nav flex-column nav-pills me-3",id:"v-tab",role:"tablist","aria-orientation":"vertical"},[(0,l._)("button",{class:"btn btn-outline-primary my-1 active",id:"v-ingredient-tab","data-bs-toggle":"pill","data-bs-target":"#v-ingredient",type:"button",role:"tab","aria-controls":"v-ingredient","aria-selected":"true"},"Ingredients "),(0,l._)("button",{class:"btn btn-outline-primary my-1",id:"v-recipe-tab","data-bs-toggle":"pill","data-bs-target":"#v-recipe",type:"button",role:"tab","aria-controls":"v-recipe","aria-selected":"false"},"Recipes ")],-1),r={class:"tab-content w-100",id:"v-tabContent"},c={class:"tab-pane fade show active",id:"v-ingredient",role:"tabpanel","aria-labelledby":"v-ingredient-tab"},d={class:"tab-pane fade",id:"v-recipe",role:"tabpanel","aria-labelledby":"v-profile-tab"};function m(e,t,n,i,m,u){const p=(0,l.up)("Ingredients"),g=(0,l.up)("Recipes");return(0,l.wg)(),(0,l.iD)("div",a,[(0,l._)("div",s,[o,(0,l._)("div",r,[(0,l._)("div",c,[(0,l.Wm)(p)]),(0,l._)("div",d,[(0,l.Wm)(g)])])])])}var u=n(7139);const p={class:"row"},g=(0,l._)("button",{type:"button",class:"btn btn-outline-success mx-1 col-3 mx-2","data-bs-toggle":"modal","data-bs-target":"#modal-new-ingredient"}," Create Ingredient ",-1),b={class:"col-5"},h=(0,l._)("hr",null,null,-1),_={class:"row"},f={class:"card-body"},v={class:"card-title"},y={class:"card-subtitle mb-2 text-muted"},w={class:"card-text"},k=["onClick"],C=["onClick"];function I(e,t,n,a,s,o){const r=(0,l.up)("modal-new-ingredient"),c=(0,l.up)("modal-edit-ingredient");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",p,[g,(0,l._)("div",b,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.search=e),id:"",class:"form-control",placeholder:"search by name or article number...",onKeyup:t[1]||(t[1]=(...e)=>o.searchIngredients&&o.searchIngredients(...e))},null,544),[[i.nr,s.search]])])]),(0,l.Wm)(r,{onGetIngredients:o.getIngredients},null,8,["onGetIngredients"]),h,(0,l._)("div",_,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.search.length>0?s.search_result:s.ingredients,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"col-sm-3 card m-2"},[(0,l._)("div",f,[(0,l._)("h5",v,(0,u.zw)(e.name),1),(0,l._)("h6",y,"Article number : "+(0,u.zw)(e.article_number),1),(0,l._)("p",w,(0,u.zw)(e.amount)+" "+(0,u.zw)(this.getUnit(e.unit))+" € "+(0,u.zw)(e.cost),1),(0,l._)("a",{href:"#",class:"card-link",onClick:t=>this.setSelectedIngredient(e),"data-bs-toggle":"modal","data-bs-target":"#modal-edit-ingredient"}," Edit ",8,k),(0,l._)("a",{href:"#",class:"card-link",onClick:t=>o.deleteIngredient(e)},"Remove",8,C)])])))),128))]),(0,l.Wm)(c,{onGetIngredients:o.getIngredients,ref:"modalEditIngredient"},null,8,["onGetIngredients"])],64)}const R={class:"modal fade",tabindex:"-1","aria-hidden":"true",id:"modal-new-ingredient","aria-labelledby":"modal-lbl-new-ingredient"},D={class:"modal-dialog"},E={class:"modal-content"},U=(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"modal-lbl-new-ingredient"},"New Ingredient"),(0,l._)("button",{id:"btn-modal-ni-close",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),S={class:"modal-body"},j={class:"mb-3 row"},x=(0,l._)("label",{for:"name",class:"col-sm-4 col-form-label"},"Name",-1),O={class:"col-sm-8"},T={class:"mb-3 row"},z=(0,l._)("label",{for:"article_number",class:"col-sm-4 col-form-label"},"Article Number",-1),N={class:"col-sm-8"},V={class:"mb-3 row"},$=(0,l._)("label",{for:"amount",class:"col-sm-4 col-form-label"},"Amount",-1),A={class:"col-sm-8"},M={class:"mb-3 row"},q=(0,l._)("label",{for:"unit",class:"col-sm-4 col-form-label"},"Unit",-1),P={class:"col-sm-8"},H=["value"],Y={class:"mb-3 row"},Z=(0,l._)("label",{for:"cost",class:"col-sm-4 col-form-label"},"Cost",-1),G={class:"col-sm-8"},K={class:"input-group"},W=(0,l._)("span",{class:"input-group-text"},"€",-1),J={class:"modal-footer"};function B(e,t,n,a,s,o){return(0,l.wg)(),(0,l.iD)("div",R,[(0,l._)("div",D,[(0,l._)("div",E,[U,(0,l._)("div",S,[(0,l._)("div",j,[x,(0,l._)("div",O,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e)},null,512),[[i.nr,s.name]])])]),(0,l._)("div",T,[z,(0,l._)("div",N,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"article_number","onUpdate:modelValue":t[1]||(t[1]=e=>s.article_number=e)},null,512),[[i.nr,s.article_number]])])]),(0,l._)("div",V,[$,(0,l._)("div",A,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"amount","onUpdate:modelValue":t[2]||(t[2]=e=>s.amount=e)},null,512),[[i.nr,s.amount]])])]),(0,l._)("div",M,[q,(0,l._)("div",P,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.unit=e),id:"unit",class:"form-select"},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.$units,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:e.id},(0,u.zw)(e.name),9,H)))),128))],512),[[i.bM,s.unit]])])]),(0,l._)("div",Y,[Z,(0,l._)("div",G,[(0,l._)("div",K,[W,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"cost","onUpdate:modelValue":t[4]||(t[4]=e=>s.cost=e)},null,512),[[i.nr,s.cost]])])])])]),(0,l._)("div",J,[(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=(...e)=>o.save&&o.save(...e))}," Save ")])])])])}var L={name:"modal-new-ingredient",data(){return{name:"",article_number:0,unit:{},amount:0,cost:0}},methods:{save(){try{let e={name:this.name,article_number:this.article_number,unit:this.unit,amount:this.amount,cost:this.cost};fetch("https://receipe-manager.herokuapp.com/ingredients/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log("Success:",e),this.$emit("get-ingredients"),document.getElementById("btn-modal-ni-close").click()})).catch((e=>{console.log("Error:",e)})),this.name="",this.article_number="",this.unit="",this.amount=0,this.cost=0}catch(e){console.log(e)}}}},F=n(89);const Q=(0,F.Z)(L,[["render",B]]);var X=Q;const ee={class:"modal fade",tabindex:"-1","aria-hidden":"true",id:"modal-edit-ingredient","aria-labelledby":"modal-lbl-edit-ingredient"},te={class:"modal-dialog"},ne={class:"modal-content"},ie=(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"modal-lbl-edit-ingredient"},"Edit Ingredient"),(0,l._)("button",{id:"btn-modal-ei-close",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),le={class:"modal-body"},ae={class:"mb-3 row"},se=(0,l._)("label",{for:"name",class:"col-sm-4 col-form-label"},"Name",-1),oe={class:"col-sm-8"},re={class:"mb-3 row"},ce=(0,l._)("label",{for:"article_number",class:"col-sm-4 col-form-label"},"Article Number",-1),de={class:"col-sm-8"},me={class:"mb-3 row"},ue=(0,l._)("label",{for:"amount",class:"col-sm-4 col-form-label"},"Amount",-1),pe={class:"col-sm-8"},ge={class:"mb-3 row"},be=(0,l._)("label",{for:"unit",class:"col-sm-4 col-form-label"},"Unit",-1),he={class:"col-sm-8"},_e=["value"],fe={class:"mb-3 row"},ve=(0,l._)("label",{for:"cost",class:"col-sm-4 col-form-label"},"Cost",-1),ye={class:"col-sm-8"},we={class:"input-group"},ke=(0,l._)("span",{class:"input-group-text"},"€",-1),Ce={class:"modal-footer"};function Ie(e,t,n,a,s,o){return(0,l.wg)(),(0,l.iD)("div",ee,[(0,l._)("div",te,[(0,l._)("div",ne,[ie,(0,l._)("div",le,[(0,l._)("div",ae,[se,(0,l._)("div",oe,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>this.ingredient.name=e)},null,512),[[i.nr,this.ingredient.name]])])]),(0,l._)("div",re,[ce,(0,l._)("div",de,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"article_number","onUpdate:modelValue":t[1]||(t[1]=e=>this.ingredient.article_number=e)},null,512),[[i.nr,this.ingredient.article_number]])])]),(0,l._)("div",me,[ue,(0,l._)("div",pe,[(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"amount","onUpdate:modelValue":t[2]||(t[2]=e=>this.ingredient.amount=e)},null,512),[[i.nr,this.ingredient.amount]])])]),(0,l._)("div",ge,[be,(0,l._)("div",he,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>this.ingredient.unit=e),id:"unit",class:"form-select"},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.$units,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:e.id},(0,u.zw)(e.name),9,_e)))),128))],512),[[i.bM,this.ingredient.unit]])])]),(0,l._)("div",fe,[ve,(0,l._)("div",ye,[(0,l._)("div",we,[ke,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"cost","onUpdate:modelValue":t[4]||(t[4]=e=>this.ingredient.cost=e)},null,512),[[i.nr,this.ingredient.cost]])])])])]),(0,l._)("div",Ce,[(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=(...e)=>o.save&&o.save(...e))}," Save ")])])])])}var Re={name:"modal-edit-ingredient",data(){return{ingredient:{}}},methods:{save(){try{fetch(`https://receipe-manager.herokuapp.com/ingredients/${this.ingredient.id}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.ingredient)}).then((e=>e.json())).then((e=>{this.$emit("get-ingredients"),console.log("Success:",e),document.getElementById("btn-modal-ei-close").click(),alert("Ingredient updated!")})).catch((e=>{console.error("Error:",e)}))}catch(e){console.log(e)}},setIngredient(e){this.ingredient={...e}}}};const De=(0,F.Z)(Re,[["render",Ie]]);var Ee=De,Ue={components:{ModalNewIngredient:X,ModalEditIngredient:Ee},name:"ingredients-comp",data(){return{ingredients:[],search:"",search_result:[]}},methods:{searchIngredients(){this.search_result=isNaN(this.search)?this.ingredients.filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase()))):this.ingredients.filter((e=>e.article_number==this.search))},setSelectedIngredient(e){this.$refs.modalEditIngredient.setIngredient(e)},getUnit(e){return this.$units.find((t=>t.id===e)).name},getIngredients(){try{fetch("https://receipe-manager.herokuapp.com/ingredients/").then((e=>e.json())).then((e=>{this.ingredients=e,this.searchIngredients()}))}catch(e){console.log(e)}},saveIngredient(e){try{let t={name:e.name,article_number:e.article_number,unit:e.unit,amount:e.amount,cost:e.cost};fetch(`https://receipe-manager.herokuapp.com/ingredients/${e.id}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{this.getIngredients(),console.log("Success:",e),alert(`${t.name} updated!`)})).catch((e=>{console.error("Error:",e)}))}catch(t){console.log(t)}},deleteIngredient(e){let t=confirm("Do you want to delete this ingredient?");if(t)try{fetch(`https://receipe-manager.herokuapp.com/ingredients/${e.id}`,{method:"DELETE"}).then((()=>this.getIngredients()))}catch(n){console.log(n)}}},created(){this.getIngredients()}};const Se=(0,F.Z)(Ue,[["render",I]]);var je=Se;const xe={class:"row"},Oe={class:"col-4"},Te=(0,l._)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#modal-new-recipe",class:"btn btn-outline-success m-2"}," Create New Recipe ",-1),ze=(0,l._)("hr",null,null,-1),Ne={class:"list-group",id:"list-tab",role:"tablist"},Ve=["id","href","aria-controls","onClick"],$e=["onClick"],Ae=["onClick"],Me={class:"col-8"},qe={class:"tab-content",id:"nav-tabContent"},Pe=["id","aria-labelledby"];function He(e,t,n,i,a,s){const o=(0,l.up)("RecipeIngredients"),r=(0,l.up)("modal-new-recipe"),c=(0,l.up)("modal-edit-recipe"),d=(0,l.up)("modal-add-recipe-ingredient");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",xe,[(0,l._)("div",Oe,[Te,ze,(0,l._)("div",Ne,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.recipes,((e,t)=>((0,l.wg)(),(0,l.iD)("a",{key:e.id,class:(0,u.C_)(["list-group-item list-group-item-action",{active:0===t}]),id:"list-"+e.id+"-list","data-bs-toggle":"list",href:"#list-"+e.id,role:"tab","aria-controls":"list-"+e.id,onClick:t=>s.setSelectedRecipe(e)},[(0,l.Uk)((0,u.zw)(e.name)+" ",1),(0,l._)("button",{class:"btn btn-danger btn-sm float-end",onClick:t=>s.deleteRecipe(e.id)},"Delete",8,$e),(0,l._)("button",{class:"btn btn-warning btn-sm float-end mx-1","data-bs-toggle":"modal","data-bs-target":"#modal-edit-recipe",onClick:t=>s.setEditingRecipe(e)}," Edit ",8,Ae)],10,Ve)))),128))])]),(0,l._)("div",Me,[(0,l._)("div",qe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.recipes,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:(0,u.C_)(["tab-pane fade show",{active:0===t}]),id:"list-"+e.id,role:"tabpanel","aria-labelledby":"list-"+e.id+"-list"},[(0,l.Wm)(o,{ref_for:!0,ref:t=>{a.ri_refs["ref-ri-"+e.id]=t},recipe:e},null,8,["recipe"])],10,Pe)))),128))])])]),(0,l.Wm)(r,{onGetRecipes:s.getRecipes},null,8,["onGetRecipes"]),(0,l.Wm)(c,{onGetRecipes:s.getRecipes,ref:e=>{this.recipe_ref=e}},null,8,["onGetRecipes"]),(0,l.Wm)(d,{onAddRecipeIngredients:s.addRecipeIngredients,recipe:this.selected_recipe},null,8,["onAddRecipeIngredients","recipe"])],64)}const Ye={class:"table"},Ze=(0,l._)("th",null,"Ingredient",-1),Ge=(0,l._)("th",null,"Unit Cost",-1),Ke=(0,l._)("th",null,"Amount",-1),We=(0,l._)("th",null,"Cost",-1),Je={key:0},Be={class:"w-25"},Le={key:0},Fe=["onUpdate:modelValue"],Qe={key:0},Xe=["onClick"],et=(0,l._)("th",{colspan:"3",class:"text-end"},"Total:",-1),tt={key:0},nt={key:0,type:"button",class:"btn btn-outline-success mx-1","data-bs-toggle":"modal","data-bs-target":"#modal-add-ri"};function it(e,t,n,a,s,o){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("table",Ye,[(0,l._)("thead",null,[(0,l._)("tr",null,[Ze,Ge,Ke,We,s.on_edit?((0,l.wg)(),(0,l.iD)("th",Je)):(0,l.kq)("",!0)])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.recipe_ingredients,((e,n)=>((0,l.wg)(),(0,l.iD)("tr",{key:n},[(0,l._)("td",null,(0,u.zw)(e.ingredient.name),1),(0,l._)("td",null,(0,u.zw)(e.ingredient.amount)+" "+(0,u.zw)(e.ingredient.unit.name)+" € "+(0,u.zw)(e.ingredient.cost),1),(0,l._)("td",Be,[s.on_edit?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("label",Le,(0,u.zw)(e.amount),1)),s.on_edit?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,class:"form-control w-50",type:"number","onUpdate:modelValue":t=>e.amount=t,onChange:t[0]||(t[0]=(...e)=>o.totalCost&&o.totalCost(...e))},null,40,Fe)),[[i.nr,e.amount]]):(0,l.kq)("",!0)]),(0,l._)("td",null,"€ "+(0,u.zw)(this.subTotal(n)),1),s.on_edit?((0,l.wg)(),(0,l.iD)("td",Qe,[(0,l._)("button",{class:"btn btn-sm btn-outline-danger",onClick:e=>o.remove(n)},"REMOVE",8,Xe)])):(0,l.kq)("",!0)])))),128))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[et,(0,l._)("th",null,"€ "+(0,u.zw)(o.totalCost()),1),s.on_edit?((0,l.wg)(),(0,l.iD)("th",tt)):(0,l.kq)("",!0)])])]),s.on_edit?((0,l.wg)(),(0,l.iD)("button",nt," Add Ingredient ")):(0,l.kq)("",!0),s.on_edit?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:1,class:"btn btn-outline-success mx-1",onClick:t[1]||(t[1]=(...e)=>o.editRecipe&&o.editRecipe(...e))},"Edit Recipe")),s.on_edit?((0,l.wg)(),(0,l.iD)("button",{key:2,class:"btn btn-outline-primary mx-1 float-end",onClick:t[2]||(t[2]=(...e)=>o.saveRecipe&&o.saveRecipe(...e))},"Save Recipe")):(0,l.kq)("",!0),s.on_edit?((0,l.wg)(),(0,l.iD)("button",{key:3,class:"btn btn-outline-danger mx-1 float-end",onClick:t[3]||(t[3]=(...e)=>o.cancelEdit&&o.cancelEdit(...e))},"Cancel")):(0,l.kq)("",!0)],64)}var lt={name:"recipe-ingredients",components:{},props:["recipe"],data(){return{recipe_ingredients:[],new_ingredient:{},new_amount:0,on_edit:!1}},methods:{addIngredient(e){this.recipe_ingredients.push(e)},getData(){try{fetch("https://receipe-manager.herokuapp.com/recipes/"+this.recipe.id).then((e=>e.json())).then((e=>{this.recipe_ingredients=e,this.totalCost()}))}catch(e){console.log(e)}},cancelEdit(){this.on_edit=!1,this.getData()},editRecipe(){this.on_edit=!0},saveRecipe(){try{fetch(`https://receipe-manager.herokuapp.com/recipes/update/${this.recipe.id}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.recipe_ingredients)}).then((e=>e.json())).then((e=>{this.recipe_ingredients=e,this.on_edit=!1,alert("recipe updated!"),console.log("Success:",e)})).catch((e=>{console.error("Error:",e)}))}catch(e){console.log(e)}},remove(e){this.recipe_ingredients.splice(e,1)},subTotal(e){return this.recipe_ingredients.length>0?this.recipe_ingredients[e].amount*this.recipe_ingredients[e].ingredient.cost:0},totalCost(){let e=0;return this.recipe_ingredients.forEach((t=>{e+=t.ingredient.cost*t.amount})),e}},created(){this.getData()}};const at=(0,F.Z)(lt,[["render",it]]);var st=at;const ot={class:"modal fade",tabindex:"-1","aria-hidden":"true",id:"modal-add-ri","aria-labelledby":"modal-lbl-add-ri"},rt={class:"modal-dialog"},ct={class:"modal-content"},dt=(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"modal-lbl-add-ri"},"Add Ingredient"),(0,l._)("button",{id:"btn-modal-close",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),mt={class:"modal-body"},ut={class:"mb-3 row"},pt=(0,l._)("label",{for:"ingredient",class:"col-sm-3 col-form-label"},"Ingredient",-1),gt={class:"col-sm-9"},bt=["value"],ht={key:0},_t={class:"mb-3 row"},ft=(0,l._)("label",{class:"col-sm-3 col-form-label"},"Cost",-1),vt={class:"col-sm-9 col-form-label"},yt={class:"mb-3 row"},wt=(0,l._)("label",{for:"amount",class:"col-sm-3 col-form-label"},"Amount",-1),kt={class:"col-sm-9"},Ct={class:"mb-3 row"},It=(0,l._)("label",{class:"col-sm-3 col-form-label"},"Total Cost",-1),Rt={class:"col-sm-9 col-form-label"},Dt={class:"modal-footer"};function Et(e,t,n,a,s,o){return(0,l.wg)(),(0,l.iD)("div",ot,[(0,l._)("div",rt,[(0,l._)("div",ct,[dt,(0,l._)("div",mt,[(0,l._)("div",ut,[pt,(0,l._)("div",gt,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.ingredient=e),id:"ingredient",class:"form-select"},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.ingredients,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:e},(0,u.zw)(e.name),9,bt)))),128))],512),[[i.bM,s.ingredient]])])]),Object.keys(s.ingredient).length>0?((0,l.wg)(),(0,l.iD)("div",ht,[(0,l._)("div",_t,[ft,(0,l._)("label",vt,(0,u.zw)(s.ingredient.amount)+" "+(0,u.zw)(o.getUnit(s.ingredient.unit).name)+" € "+(0,u.zw)(s.ingredient.cost),1)]),(0,l._)("div",yt,[wt,(0,l._)("div",kt,[(0,l.wy)((0,l._)("input",{type:"number",id:"amount","onUpdate:modelValue":t[1]||(t[1]=e=>s.amount=e),class:"form-control"},null,512),[[i.nr,s.amount]])])]),(0,l._)("div",Ct,[It,(0,l._)("label",Rt,"€ "+(0,u.zw)(o.total_cost()),1)])])):(0,l.kq)("",!0)]),(0,l._)("div",Dt,[Object.keys(s.ingredient).length>0?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=(...e)=>o.add&&o.add(...e))}," Add ")):(0,l.kq)("",!0)])])])])}var Ut={name:"ModalAddRecipeIngredient",props:["recipe"],data(){return{ingredients:[],ingredient:{},amount:0,cost:0}},methods:{getIngredients(){try{fetch("https://receipe-manager.herokuapp.com/ingredients/").then((e=>e.json())).then((e=>this.ingredients=e))}catch(e){console.log(e)}},getUnit(e){return this.$units.find((t=>t.id===e))},add(){if(this.ingredient.name){this.ingredient.unit=this.getUnit(this.ingredient.unit);let e={ingredient:this.ingredient,amount:this.amount,recipe:this.recipe};this.$emit("add-recipe-ingredients",e),this.ingredient={},this.amount=0,this.cost=0,document.getElementById("btn-modal-close").click()}},total_cost(){return this.ingredient.cost*this.amount}},created(){this.getIngredients()}};const St=(0,F.Z)(Ut,[["render",Et]]);var jt=St;const xt={class:"modal fade",tabindex:"-1","aria-hidden":"true",id:"modal-new-recipe","aria-labelledby":"modal-lbl-new-recipe"},Ot={class:"modal-dialog"},Tt={class:"modal-content"},zt=(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"modal-lbl-new-recipe"},"Create New Recipe"),(0,l._)("button",{id:"btn-modal-nr-close",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Nt={class:"modal-body"},Vt={class:"mb-3 row"},$t=(0,l._)("label",{for:"name",class:"col-sm-4 col-form-label"},"Name",-1),At={class:"col-sm-8"},Mt={class:"modal-footer"};function qt(e,t,n,a,s,o){return(0,l.wg)(),(0,l.iD)("div",xt,[(0,l._)("div",Ot,[(0,l._)("div",Tt,[zt,(0,l._)("div",Nt,[(0,l._)("div",Vt,[$t,(0,l._)("div",At,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e)},null,512),[[i.nr,s.name]])])])]),(0,l._)("div",Mt,[(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>o.save&&o.save(...e))}," Save ")])])])])}var Pt={name:"modal-new-recipe",data(){return{name:""}},methods:{save(){try{let e={name:this.name};fetch("https://receipe-manager.herokuapp.com/recipes/recipes/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log("Success:",e),this.$emit("get-recipes"),document.getElementById("btn-modal-nr-close").click()})).catch((e=>{console.log("Error:",e)})),this.name=""}catch(e){console.log(e)}}}};const Ht=(0,F.Z)(Pt,[["render",qt]]);var Yt=Ht;const Zt={class:"modal fade",tabindex:"-1","aria-hidden":"true",id:"modal-edit-recipe","aria-labelledby":"modal-lbl-edit-recipe"},Gt={class:"modal-dialog"},Kt={class:"modal-content"},Wt=(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"modal-lbl-edit-recipe"},"Edit Recipe"),(0,l._)("button",{id:"btn-modal-er-close",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Jt={class:"modal-body"},Bt={class:"mb-3 row"},Lt=(0,l._)("label",{for:"name",class:"col-sm-4 col-form-label"},"Name",-1),Ft={class:"col-sm-8"},Qt={class:"modal-footer"};function Xt(e,t,n,a,s,o){return(0,l.wg)(),(0,l.iD)("div",Zt,[(0,l._)("div",Gt,[(0,l._)("div",Kt,[Wt,(0,l._)("div",Jt,[(0,l._)("div",Bt,[Lt,(0,l._)("div",Ft,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>s.editing_recipe.name=e)},null,512),[[i.nr,s.editing_recipe.name]])])])]),(0,l._)("div",Qt,[(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>o.save&&o.save(...e))}," Save ")])])])])}var en={name:"modal-edit-recipe",data(){return{editing_recipe:{}}},methods:{setEditingRecipe(e){this.editing_recipe={...e}},save(){try{fetch("https://receipe-manager.herokuapp.com/recipes/recipes/",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.editing_recipe)}).then((e=>e.json())).then((e=>{console.log("Success:",e),this.$emit("get-recipes"),document.getElementById("btn-modal-er-close").click()})).catch((e=>{console.log("Error:",e)})),this.name=""}catch(e){console.log(e)}}}};const tn=(0,F.Z)(en,[["render",Xt]]);var nn=tn,ln={name:"recipes-comp",components:{RecipeIngredients:st,ModalAddRecipeIngredient:jt,ModalNewRecipe:Yt,ModalEditRecipe:nn},data(){return{ri_refs:{},recipe_ref:{},recipes:[],selected_recipe:{}}},methods:{setEditingRecipe(e){this.recipe_ref.setEditingRecipe(e)},deleteRecipe(e){if(confirm("Are you sure to delete the recipe?")){console.log(e);try{fetch(`https://receipe-manager.herokuapp.com/recipes/recipe/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((e=>e)).then((e=>{console.log(e),this.getRecipes()}))}catch(t){console.log("error: ",t)}}},addRecipeIngredients(e){this.ri_refs["ref-ri-"+this.selected_recipe.id].addIngredient(e)},setSelectedRecipe(e){this.selected_recipe=e},getRecipes(){try{fetch("https://receipe-manager.herokuapp.com/recipes/recipes/").then((e=>e.json())).then((e=>{this.recipes=e,this.setSelectedRecipe(e[0])}))}catch(e){console.log(e)}}},created(){this.getRecipes()}};const an=(0,F.Z)(ln,[["render",He]]);var sn=an,on={name:"App",components:{Ingredients:je,Recipes:sn}};const rn=(0,F.Z)(on,[["render",m]]);var cn=rn;n(8937);const dn=(0,i.ri)(cn);function mn(){try{fetch("https://receipe-manager.herokuapp.com/ingredients/units/").then((e=>e.json())).then((e=>{dn.config.globalProperties.$units=e,dn.mount("#app")}))}catch(e){console.log(e)}}mn()}},t={};function n(i){var l=t[i];if(void 0!==l)return l.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,i,l,a){if(!i){var s=1/0;for(d=0;d<e.length;d++){i=e[d][0],l=e[d][1],a=e[d][2];for(var o=!0,r=0;r<i.length;r++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[r])}))?i.splice(r--,1):(o=!1,a<s&&(s=a));if(o){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[i,l,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var l,a,s=i[0],o=i[1],r=i[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(l in o)n.o(o,l)&&(n.m[l]=o[l]);if(r)var d=r(n)}for(t&&t(i);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},i=self["webpackChunkrecipe_manager_client"]=self["webpackChunkrecipe_manager_client"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(8955)}));i=n.O(i)})();
//# sourceMappingURL=app.81291f01.js.map